/* Copyright (c) Fortanix, Inc.
|* This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0. If a copy of
|* the MPL was not distributed with this file, You can obtain one at http://mozilla.org/MPL/2.0/. */

@use '../../../style/variables.scss' as bkl;
@use '../../../style/mixins.scss' as mixins;
@use '../../../style/util/z-index.scss' as z;


@layer baklava.legacy {
  .bkl-date-picker {
    inline-size: 8.6rem;
    display: flex;
    flex-direction: row;
    align-items: center;
    
    .bkl-date-picker__date {
      text-align: end;
    }
    .bkl-input--calendar__icon {
      position: absolute;
      inset-inline-start: 0.1rem;
      inset-block-start: 0.4rem;
      z-index: 1;
      margin: 0.7rem;
      inline-size: 0.9rem;
      color: var(--bkl-calendar-icon-color);
    }
  }

  .bkl-date-time-picker {
    display: flex;
    flex-direction: row;
    text-align: center;

    > * {
      margin-inline-end: 0.4rem;
    }

    .bkl-date-time-picker__time {
      inline-size: 5.7rem;
      text-align: center;
      padding-block-end: 0;
    }

    .bkl-date-time-picker__meridiem {
      inline-size: 5rem;
      text-align: center;
      font-size: 1rem;
      @include mixins.font($family: bkl.$font-family-body, $weight: bkl.$font-weight-regular);
      display: block;
    }

    .bkl-input--primary {
      background-color: bkl.$brand-color-dark-2 !important;
      color: bkl.$light-color-1 !important;
    }
  }

  // to display data picker outside of panel
  .bkl-data-picker-panel {
    overflow: unset;
  }

  // DATEPICKER override react-datepicker styles

  .react-datepicker-popper {
    z-index: z.$z-index--date-picker;
  }
  .react-datepicker {
    inline-size: 21.4rem;
    text-align: center;
    margin-block-start: 0.4rem;
    padding: 1.8rem;
    background-color: bkl.$brand-color-dark-3;
    border-radius: 0.3rem !important;
    border-width: 0 !important;
    @include mixins.font($family: bkl.$font-family-body, $weight: bkl.$font-weight-regular);
    font-size: 1rem;
    &__triangle,
    &__triangle::before {
      border: none !important;
    }
    &__header {
      background: transparent;
      border: 0;
      color: bkl.$brand-color-dark-2;
      @include mixins.font($family: bkl.$font-family-display, $weight: bkl.$font-weight-regular);
    }
    &__month-container {
      display: inline-block;
      inline-size: 100%;
      float: none;
    }
    &__current-month {
      color: bkl.$brand-color-dark-2;
      font-size: 1.4rem;
      margin-block-end: 0.7rem;
      @include mixins.font($family: bkl.$font-family-display, $weight: bkl.$font-weight-regular);
    }
    &__navigation {
      position: absolute;
      inset-block-start: 2.4rem;
      inline-size: 2.1rem;
      border: none;
      text-indent: -999em;
      &-icon {
        &::before, &::after {
          display: flex;
        }
      }
      
      &:focus-visible {
        outline: 2px solid bkl.$focus-outline-color;
        outline-offset: 0;
      }
      
      &--previous {
        background: url('../../../assets/icons/arrow-left.svg') no-repeat center center;
        background-size: 1.3rem;
        inset-inline-start: 1.4rem;
        &:hover {
          opacity: 0.7;
        }
      }
      &--next {
        background: url('../../../assets/icons/arrow-right.svg') no-repeat center center;
        background-size: 1.3rem;
        inset-inline-end: 1.4rem;
        &:hover {
          opacity: 0.7;
        }
      }
    }
    &__day-names {
      border-block-end: 0.1rem solid var(--bkl-border-color);
    }
    &__day-name,
    &__day {
      display: inline-block;
      inline-size: 2.5rem;
      line-height: 2.5rem;
      margin: 0;
      color: var(--bkl-calendar-color);
      
      &:focus-visible {
        outline: 2px solid bkl.$focus-outline-color;
        outline-offset: 0;
      }
            
      &--outside-month {
        opacity: .7;
      }
      &--disabled {
        opacity: .35;
      }
    }
    &__day {
      &--selected,
      &--keyboard-selected {
        background: bkl.$accent-color;
        border-radius: 50%;
      }
      &:not(&--selected):hover {
        background: var(--bkl-datepicker-bg-color);
        border-radius: 50%;
      }
      &--in-range,
      &--in-selecting-range {
        background: transparent;
        background-color: transparent;
        border-radius: 0;
      }
    }
  }
  .react-datepicker-popper[data-placement^="bottom"] {
    margin-block-start: 0;
  }

  .react-datepicker-popper[data-placement^="top"] {
    margin-block-end: 0;
  }

  .react-datepicker__month--selecting-range .react-datepicker__day--in-range:not(.react-datepicker__day--in-selecting-range),
  .react-datepicker__month--selecting-range .react-datepicker__day--in-selecting-range:not(.react-datepicker__day--in-range) {
    background: transparent;
    background-color: transparent;
    border-radius: 0;
    color: var(--bkl-calendar-color);
  }
}
