/* Copyright (c) Fortanix, Inc.
|* This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0. If a copy of
|* the MPL was not distributed with this file, You can obtain one at http://mozilla.org/MPL/2.0/. */

@use './variables.scss' as bkl;


// Fonts

@mixin font($family: bkl.$font-family-display, $weight: bkl.$font-weight-regular, $size: null) {
  font-family: $family;
  font-weight: $weight;
  @if $size {
    font-size: $size;
  }
}


@mixin flex-center() {
  display: flex;
  align-items: center;
  justify-content: center;
}

@mixin rounded($rounding: bkl.$sizing-xs) {
  border-radius: $rounding;
  overflow: hidden; // Prevent child items from "bleeding through" the rounded borders
}

@mixin shadow() {
  box-shadow: 0 1px 10px 0 var(--bkl-shadow-color);
}

@mixin card($rounding: bkl.$sizing-xs) {
  @include rounded($rounding);
  @include shadow();
  background-color: bkl.$light-color-1;
}

@mixin circle($size: 2.5rem) {
  box-sizing: border-box; // Allow padding to shrink the contents, rather than expanding the circle itself
  flex: none; // Do not allow this item to shrink/grow
  inline-size: $size;
  block-size: $size;
  aspect-ratio: 1 / 1;
  border-radius: 50%;
  background-color: currentColor;
  
  @include flex-center();
}

@mixin capsule() {
  min-inline-size: 2.8em;
  padding: 0 0.5em; // Ensure that text does not hit the edge if it overflows
  
  // Setting a large enough radius will create the "capsule" rounding effect, see:
  // - https://stackoverflow.com/questions/18794947/capsule-shape-using-border-radius-without-a-set-width-or-height
  // - https://stackoverflow.com/questions/29966499/border-radius-in-percentage-and-pixels-px-or-em
  border-radius: 1000px;
  //border-radius: 0.8em / 50%; // Alternative approach
  
  @include flex-center();
}

@mixin shimmer($baseColor, $highlightColor, $shimmerSize: 20rem) {
  background-color: $baseColor;
  background-image: linear-gradient(
    90deg,
    $baseColor,
    $highlightColor,
    $baseColor
  );
  background-size: $shimmerSize 100%;
  background-repeat: no-repeat;
  
  @keyframes shimmer {
    to {
      background-position: 300% 0, 0 0;
    }
  }
  
  animation: shimmer 3s infinite;
}

