/* Copyright (c) Fortanix, Inc.
|* This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0. If a copy of
|* the MPL was not distributed with this file, You can obtain one at http://mozilla.org/MPL/2.0/. */

@use '../../../styling/defs.scss' as bk;
@use '../../../typography/Heading/Heading.mixins.scss' as heading;

@layer baklava.components {
  .bk-accordion {
    @include bk.component-base(bk-accordion);
    
    /* FIXME: no accordion-specific semantic tokens for these */
    --bk-accordion-background-color: #{bk.$theme-accordion-background-default};
    --bk-accordion-border-color: #{bk.$theme-accordion-border-default};
    --bk-accordion-text-color: var(--bk-page-color-text);
    
    padding-inline: bk.$spacing-4;
    padding-block: bk.rem-from-px(14); // FIXME
    
    border-radius: bk.$radius-3;
    border: bk.$size-1 solid var(--bk-accordion-border-color);
    background: var(--bk-accordion-background-color);
    color: var(--bk-accordion-text-color);
    
    summary {
      @include heading.h5;
      
      cursor: pointer;
      
      display: flex;
      align-items: center;
      gap: bk.$spacing-9;
      
      line-height: bk.$line-height-s;
      
      .bk-accordion__title {
        @include bk.text-one-line;
      }
      
      .bk-accordion__collapse-icon {
        margin-inline-start: auto;
        font-size: 1.125em; // ~18px
        
        @media (prefers-reduced-motion: no-preference) {
          transition: rotate 120ms ease-in-out;
        }
      }
    }
    
    &[open] {
      padding-bottom: bk.$spacing-8;
      
      .bk-accordion__collapse-icon {
        rotate: -0.5turn;
      }
    }
    
    .bk-accordion__content {
      margin-top: bk.$spacing-8;
    }
  }
}
